---
title: "JavaScript/TypeScript SDK"
description: "Complete guide for the BoxLog JavaScript/TypeScript SDK. Perfect for Node.js backends and frontend applications."
tags: ["sdk", "javascript", "typescript", "node.js", "browser"]
author: "BoxLog Team"
publishedAt: "2025-01-16"
updatedAt: "2025-01-16"
order: 1
featured: true
category: "sdks"
slug: "javascript"
---

# JavaScript/TypeScript SDK

The official BoxLog SDK for JavaScript and TypeScript applications. Works in Node.js backends and modern browsers.

## Installation

```bash
npm install @boxlog/sdk
# or
yarn add @boxlog/sdk
# or
pnpm add @boxlog/sdk
```

## Quick Start

### Basic Setup

```typescript
import { BoxLog } from '@boxlog/sdk'

const logger = new BoxLog({
  apiKey: process.env.BOXLOG_API_KEY!,
  service: 'my-app',
  environment: process.env.NODE_ENV || 'development'
})

// Send your first log
logger.info('Application started', {
  version: '1.0.0',
  port: 3000
})
```

### Environment Variables

Create a `.env` file in your project root:

```env
BOXLOG_API_KEY=your_api_key_here
BOXLOG_SERVICE=my-app
BOXLOG_ENVIRONMENT=development
```

## Configuration

### Constructor Options

```typescript
interface BoxLogConfig {
  // Required
  apiKey: string

  // Optional
  service?: string
  environment?: string
  endpoint?: string
  timeout?: number
  retries?: number
  batchSize?: number
  flushInterval?: number
  level?: LogLevel
  defaultMetadata?: Record<string, any>
  enableConsole?: boolean
  pretty?: boolean
  masks?: MaskConfig[]
}

const logger = new BoxLog({
  apiKey: 'your_api_key',
  service: 'payment-service',
  environment: 'production',
  timeout: 5000,
  retries: 3,
  batchSize: 100,
  flushInterval: 5000,
  level: 'info',
  defaultMetadata: {
    version: '1.2.3',
    region: 'us-east-1'
  },
  enableConsole: true,
  pretty: process.env.NODE_ENV !== 'production'
})
```

## Basic Logging

### Log Levels

```typescript
// Trace - very detailed debugging
logger.trace('Function entry', { functionName: 'processPayment', args })

// Debug - debugging information
logger.debug('Processing payment', { paymentId, amount })

// Info - general information
logger.info('Payment processed', { paymentId, status: 'success' })

// Warn - warning conditions
logger.warn('Payment retry', { paymentId, attempt: 2 })

// Error - error conditions
logger.error('Payment failed', { paymentId, error: err.message })

// Fatal - critical errors
logger.fatal('Service unavailable', { error: err.message })
```

### Structured Logging

```typescript
// Always use structured data
logger.info('User action', {
  userId: 'user_123',
  action: 'purchase',
  productId: 'prod_456',
  amount: 99.99,
  currency: 'USD',
  timestamp: new Date().toISOString(),
  metadata: {
    source: 'mobile_app',
    version: '2.1.0'
  }
})
```

## Advanced Features

### Child Loggers

Create child loggers with additional context:

```typescript
// Create child logger with default context
const requestLogger = logger.child({
  requestId: 'req_abc123',
  userId: 'user_456',
  ip: '192.168.1.1'
})

// All logs from this child will include the context
requestLogger.info('Request started', { path: '/api/users' })
requestLogger.error('Request failed', { error: 'Database timeout' })
```

### Correlation IDs

Implement distributed tracing:

```typescript
import { v4 as uuidv4 } from 'uuid'

// Express middleware for correlation IDs
app.use((req, res, next) => {
  const correlationId = req.headers['x-correlation-id'] || uuidv4()
  
  req.logger = logger.child({
    correlationId,
    requestId: uuidv4(),
    path: req.path,
    method: req.method
  })
  
  res.setHeader('x-correlation-id', correlationId)
  next()
})

// Use in route handlers
app.get('/users/:id', async (req, res) => {
  req.logger.info('Fetching user', { userId: req.params.id })
  
  try {
    const user = await getUserById(req.params.id)
    req.logger.info('User fetched successfully')
    res.json(user)
  } catch (error) {
    req.logger.error('Failed to fetch user', { error: error.message })
    res.status(500).json({ error: 'Internal server error' })
  }
})
```

### Error Handling

```typescript
// Automatic error serialization
try {
  await riskyOperation()
} catch (error) {
  logger.error('Operation failed', {
    operation: 'riskyOperation',
    error,  // Automatically serializes Error objects
    context: { userId, sessionId }
  })
}

// Custom error context
class PaymentError extends Error {
  constructor(message: string, public paymentId: string, public amount: number) {
    super(message)
    this.name = 'PaymentError'
  }
}

try {
  processPayment(paymentId, amount)
} catch (error) {
  if (error instanceof PaymentError) {
    logger.error('Payment processing failed', {
      error: {
        name: error.name,
        message: error.message,
        stack: error.stack,
        paymentId: error.paymentId,
        amount: error.amount
      }
    })
  }
}
```

### Performance Monitoring

```typescript
// Time operations
const timer = logger.startTimer()

await someAsyncOperation()

timer.done('Operation completed', {
  operation: 'someAsyncOperation',
  recordCount: 1000
})

// Or manually measure
const start = Date.now()
await someOperation()
const duration = Date.now() - start

logger.info('Operation performance', {
  operation: 'someOperation',
  duration,
  slow: duration > 1000
})
```

## Framework Integrations

### Express.js

```typescript
import express from 'express'
import { BoxLog } from '@boxlog/sdk'

const app = express()
const logger = new BoxLog({ /* config */ })

// Request logging middleware
app.use((req, res, next) => {
  const start = Date.now()
  
  req.logger = logger.child({
    requestId: req.id,
    method: req.method,
    path: req.path,
    userAgent: req.get('User-Agent')
  })

  req.logger.info('Request started')

  res.on('finish', () => {
    const duration = Date.now() - start
    req.logger.info('Request completed', {
      statusCode: res.statusCode,
      duration,
      contentLength: res.get('Content-Length')
    })
  })

  next()
})
```

### Next.js

```typescript
// lib/logger.ts
import { BoxLog } from '@boxlog/sdk'

export const logger = new BoxLog({
  apiKey: process.env.BOXLOG_API_KEY!,
  service: 'nextjs-app',
  environment: process.env.NODE_ENV
})

// pages/api/users.ts
import { logger } from '../../lib/logger'

export default async function handler(req, res) {
  const requestLogger = logger.child({
    requestId: req.headers['x-request-id'],
    method: req.method,
    path: req.url
  })

  requestLogger.info('API request started')

  try {
    // Your API logic here
    const result = await processRequest(req)
    
    requestLogger.info('API request completed', { result })
    res.status(200).json(result)
  } catch (error) {
    requestLogger.error('API request failed', { error })
    res.status(500).json({ error: 'Internal server error' })
  }
}
```

### React (Browser)

```typescript
// logger.ts
import { BoxLog } from '@boxlog/sdk'

export const logger = new BoxLog({
  apiKey: process.env.REACT_APP_BOXLOG_API_KEY!,
  service: 'react-frontend',
  environment: process.env.NODE_ENV,
  defaultMetadata: {
    userAgent: navigator.userAgent,
    url: window.location.href
  }
})

// App.tsx
import React from 'react'
import { logger } from './logger'

// Error Boundary
class ErrorBoundary extends React.Component {
  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {
    logger.error('React error boundary', {
      error: {
        message: error.message,
        stack: error.stack
      },
      errorInfo,
      component: errorInfo.componentStack
    })
  }

  render() {
    // Error UI
  }
}

// Component logging
function UserProfile({ userId }: { userId: string }) {
  useEffect(() => {
    logger.info('UserProfile mounted', { userId })
    
    return () => {
      logger.info('UserProfile unmounted', { userId })
    }
  }, [userId])

  const handleClick = () => {
    logger.info('Profile action', { 
      action: 'edit_profile',
      userId 
    })
  }

  return <div onClick={handleClick}>Profile</div>
}
```

## Browser Support

The SDK works in all modern browsers:

- Chrome 60+
- Firefox 55+
- Safari 12+
- Edge 79+

## Data Masking

Automatically mask sensitive data:

```typescript
const logger = new BoxLog({
  apiKey: 'your_api_key',
  masks: [
    { field: 'password', mask: '[REDACTED]' },
    { field: 'email', mask: (value: string) => {
      const [user, domain] = value.split('@')
      return `${user.slice(0, 2)}***@${domain}`
    }},
    { field: 'creditCard', mask: (value: string) => `****${value.slice(-4)}` }
  ]
})

logger.info('User login', {
  email: 'user@example.com',     // Becomes: us***@example.com
  password: 'secret123',         // Becomes: [REDACTED]
  creditCard: '4111111111111111'  // Becomes: ****1111
})
```

## Testing

Mock the logger in your tests:

```typescript
// __mocks__/@boxlog/sdk.ts
export class BoxLog {
  info = jest.fn()
  error = jest.fn()
  warn = jest.fn()
  debug = jest.fn()
  trace = jest.fn()
  fatal = jest.fn()
  child = jest.fn(() => this)
  startTimer = jest.fn(() => ({
    done: jest.fn()
  }))
}

// In your test
import { logger } from '../logger'

jest.mock('@boxlog/sdk')

test('should log user action', () => {
  performUserAction()
  
  expect(logger.info).toHaveBeenCalledWith('User action', {
    action: 'click',
    userId: 'user_123'
  })
})
```

## TypeScript Support

Full TypeScript support with strong typing:

```typescript
interface UserEvent {
  userId: string
  action: 'login' | 'logout' | 'purchase'
  timestamp: string
}

const logger = new BoxLog({ /* config */ })

// Type-safe logging
logger.info<UserEvent>('User event', {
  userId: 'user_123',
  action: 'login',
  timestamp: new Date().toISOString()
})

// Custom log interface
interface CustomLog {
  event: string
  data: Record<string, unknown>
}

logger.info<CustomLog>('Custom event', {
  event: 'user_signup',
  data: { source: 'google', plan: 'pro' }
})
```

## Best Practices

1. **Use structured logging** - Always pass objects, not strings
2. **Include context** - Add relevant metadata to every log
3. **Use appropriate levels** - Don't log everything as info
4. **Avoid sensitive data** - Use masking for PII
5. **Use child loggers** - Create context-specific loggers
6. **Monitor performance** - Track execution times
7. **Handle errors gracefully** - Don't let logging break your app

## Next Steps

- [Best Practices](/docs/guides/best-practices) - Learn logging best practices
- [API Reference](/docs/api-reference/rest/logs) - Complete API documentation
- [Examples](/docs/examples) - Real-world implementation examples